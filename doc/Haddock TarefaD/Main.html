<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Main</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Main.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption empty">&nbsp;</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr></table><p class="caption">Main</p></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><a href="#v:inStr">inStr</a> :: String -&gt; [String]</li><li class="src short"><a href="#v:outStr">outStr</a> :: [String] -&gt; String</li><li class="src short"><a href="#v:correTestes">correTestes</a> :: IO ()</li><li class="src short"><a href="#v:correTeste">correTeste</a> :: ([String] -&gt; [String]) -&gt; String -&gt; IO ()</li><li class="src short"><a href="#v:main">main</a> :: IO ()</li><li class="src short"><a href="#v:tarefa4">tarefa4</a> :: [String] -&gt; [String]</li><li class="src short"><a href="#v:pai">pai</a> :: [String] -&gt; [(Int, Int)] -&gt; [String] -&gt; String</li><li class="src short"><a href="#v:mae">mae</a> :: [String] -&gt; [(Int, Int)] -&gt; [String] -&gt; Int -&gt; Int</li><li class="src short"><a href="#v:converterComandoMapa">converterComandoMapa</a> :: String -&gt; [String]</li><li class="src short"><a href="#v:validaUp">validaUp</a> :: (Int, Int) -&gt; [String] -&gt; [(Int, Int)] -&gt; [(Int, Int)]</li><li class="src short"><a href="#v:modificaCoordsUp">modificaCoordsUp</a> :: (Int, Int) -&gt; [(Int, Int)] -&gt; [(Int, Int)]</li><li class="src short"><a href="#v:validaDown">validaDown</a> :: (Int, Int) -&gt; [String] -&gt; [(Int, Int)] -&gt; [(Int, Int)]</li><li class="src short"><a href="#v:modificaCoordsDown">modificaCoordsDown</a> :: (Int, Int) -&gt; [(Int, Int)] -&gt; [(Int, Int)]</li><li class="src short"><a href="#v:validaLeft">validaLeft</a> :: (Int, Int) -&gt; [String] -&gt; [(Int, Int)] -&gt; [(Int, Int)]</li><li class="src short"><a href="#v:modificaCoordsLeft">modificaCoordsLeft</a> :: (Int, Int) -&gt; [(Int, Int)] -&gt; [(Int, Int)]</li><li class="src short"><a href="#v:validaRight">validaRight</a> :: (Int, Int) -&gt; [String] -&gt; [(Int, Int)] -&gt; [(Int, Int)]</li><li class="src short"><a href="#v:modificaCoordsRight">modificaCoordsRight</a> :: (Int, Int) -&gt; [(Int, Int)] -&gt; [(Int, Int)]</li><li class="src short"><a href="#v:validaPontos">validaPontos</a> :: [String] -&gt; Bool</li><li class="src short"><a href="#v:toniCabrita">toniCabrita</a> :: [(Int, Int)] -&gt; [(Int, Int)] -&gt; Bool</li><li class="src short"><a href="#v:caracterCaixa">caracterCaixa</a> :: [(Int, Int)] -&gt; [String] -&gt; [String] -&gt; [String]</li><li class="src short"><a href="#v:selecaoCaixa">selecaoCaixa</a> :: [String] -&gt; Int -&gt; Int -&gt; [String]</li><li class="src short"><a href="#v:transformaCaixa">transformaCaixa</a> :: String -&gt; Int -&gt; String</li><li class="src short"><a href="#v:caracterBoneco">caracterBoneco</a> :: [(Int, Int)] -&gt; [String] -&gt; [String] -&gt; [String]</li><li class="src short"><a href="#v:selecaoBoneco">selecaoBoneco</a> :: [String] -&gt; Int -&gt; Int -&gt; [String]</li><li class="src short"><a href="#v:transformaBoneco">transformaBoneco</a> :: String -&gt; Int -&gt; String</li><li class="src short"><a href="#v:carateresValidos">carateresValidos</a> :: Char -&gt; Bool</li><li class="src short"><a href="#v:converteCoords">converteCoords</a> :: Int -&gt; [String] -&gt; [(Int, Int, Int)]</li><li class="src short"><a href="#v:analiseCoords">analiseCoords</a> :: String -&gt; Bool</li><li class="src short"><a href="#v:algarismos-39-">algarismos'</a> :: String -&gt; Bool</li><li class="src short"><a href="#v:primeiros">primeiros</a> :: [(Int, Int, Int)] -&gt; [(Int, Int)]</li><li class="src short"><a href="#v:localizaCoords">localizaCoords</a> :: (Int, Int) -&gt; [String] -&gt; Char</li><li class="src short"><a href="#v:-33--33--33-">(!!!)</a> :: Eq a =&gt; [a] -&gt; Int -&gt; a</li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a name="v:inStr" class="def">inStr</a> :: String -&gt; [String]</p></div><div class="top"><p class="src"><a name="v:outStr" class="def">outStr</a> :: [String] -&gt; String</p></div><div class="top"><p class="src"><a name="v:correTestes" class="def">correTestes</a> :: IO ()</p></div><div class="top"><p class="src"><a name="v:correTeste" class="def">correTeste</a> :: ([String] -&gt; [String]) -&gt; String -&gt; IO ()</p><div class="doc"><p>Corre um teste para uma tarefa
</p></div></div><div class="top"><p class="src"><a name="v:main" class="def">main</a> :: IO ()</p></div><div class="top"><p class="src"><a name="v:tarefa4" class="def">tarefa4</a> :: [String] -&gt; [String]</p></div><div class="top"><p class="src"><a name="v:pai" class="def">pai</a> :: [String] -&gt; [(Int, Int)] -&gt; [String] -&gt; String</p><div class="doc"><p>A fun&#231;ao pai vai realizar as seguintes tarefas :
</p><ol><li> Aplicar a validaPontos que por sua vez vai analisar o tabuleiro de modo a contar o numero de pontos ,
  ou seja, se ainda existem caixas que necessitam de ser movidas para a sua posi&#231;&#227;o final . 
</li><li> Caso ja n&#227;o exitam pontos na lista de strings (tabuleiros) entao &#233; dado a mensagem Fim , 
  se n&#227;o existem duas op&#231;&#245;es : uma &#233; caso ainda existam comandos ent&#227;o a lista de strings e processada de novo com as altera&#231;&#245;es feitas pelas valida<a href="--.html">..</a>
  ou seja as coordenadas sao alteradas e &#233; dada uma nova lista de strings a fun&#231;ao pai . 
</li></ol><p>A fun&#231;ao lerComando tem como objetivo receber as coordenadas do mapa , o tabuleiro e o comando , e conforme este comando 
este vai executar uma das validas , o qual vai alterar as coordenadas do boneco , se este se puder deslocar, e uma caixa caso o boneco desloque uma delas
caso seja dado um comando nao aceit&#225;vel ou reconhecido, este &#233; ignorado 
</p><ul><li>
</li></ul></div></div><div class="top"><p class="src"><a name="v:mae" class="def">mae</a> :: [String] -&gt; [(Int, Int)] -&gt; [String] -&gt; Int -&gt; Int</p><div class="doc"><p>A fun&#231;&#227;o mae tem a mesma estrutura da fun&#231;&#227;o pai , no entanto o seu  output &#233; diferente na quest&#227;o de em vez de devolver uma msg , vai devolver o n&#250;mero de comandos realmente executados pelo boneco ,
por meio de compara&#231;&#227;o da lista da lista de strings (tabuleiros), em que caso o tabuleiro dado de input e o dado pelo output do lerComando sejam diferentes ent&#227;o &#233; incrementado +1 ao contador dos comandos executados (i).
casos estes sejam iguais ent&#227;o mantem-se atual tick . 
o validaPontos para saber se o jogo est&#225; finalizado ou n&#227;o. O tick (i) &#233; dado em dois casos: caso os comandos acabem ou caso o mapa esteja finalizado
</p></div></div><div class="top"><p class="src"><a name="v:converterComandoMapa" class="def">converterComandoMapa</a> :: String -&gt; [String]</p><div class="doc"><p>a converte comandos serve para transformar a ultima string do ficheiro.txt que serve de input &#224; tarefa , ou seja , os comandos que se pretendem serem executados , de uma string para uma lista de strings 
desta forma v&#227;o ser interpretados pela fun&#231;&#227;o pai e mae  
</p></div></div><div class="top"><p class="src"><a name="v:validaUp" class="def">validaUp</a> :: (Int, Int) -&gt; [String] -&gt; [(Int, Int)] -&gt; [(Int, Int)]</p><div class="doc"><p>a validaUp vai validar se o boneco dentro do contexto do mapa pode ou n&#227;o mover-se, e caso este se mova, se vai ou n&#227;o alterar tamb&#233;m a posi&#231;&#227;o de uma caixa .
Caso este seja alterado ent&#227;o vai ser executado a fun&#231;&#227;o  modificaCoordsUp
</p><p>Esta fun&#231;&#227;o vai receber de input a coordenada do elemento a ser modificado (boneco ou caixa) e vai neste caso adicionar +1 unidade &#224; dimens&#227;o y da coordenada dada no input, ou seja de modo a mimicar o comando Up (U) no jogo
</p></div></div><div class="top"><p class="src"><a name="v:modificaCoordsUp" class="def">modificaCoordsUp</a> :: (Int, Int) -&gt; [(Int, Int)] -&gt; [(Int, Int)]</p></div><div class="top"><p class="src"><a name="v:validaDown" class="def">validaDown</a> :: (Int, Int) -&gt; [String] -&gt; [(Int, Int)] -&gt; [(Int, Int)]</p><div class="doc"><p>a validaDown validar se o boneco dentro do contexto do mapa pode ou n&#227;o mover-se, e caso este se mova se vai ou n&#227;o alterar tambem a posi&#231;&#227;o de uma caixa .
Caso este seja alterado entao vai ser executado  a fun&#231;ao  modificaCoordsDown 
</p><p>Esta fun&#231;&#227;o vai receber de input a coordenada do elemento a ser modificado (boneco ou caixa) e vai neste caso adicionar -1 unidade &#224; dimensao y da coordenada dada no input, ou seja de modo a mimicar o comando Down (D) no jogo
</p></div></div><div class="top"><p class="src"><a name="v:modificaCoordsDown" class="def">modificaCoordsDown</a> :: (Int, Int) -&gt; [(Int, Int)] -&gt; [(Int, Int)]</p></div><div class="top"><p class="src"><a name="v:validaLeft" class="def">validaLeft</a> :: (Int, Int) -&gt; [String] -&gt; [(Int, Int)] -&gt; [(Int, Int)]</p><div class="doc"><p>a validaLeft vai validar se o boneco dentro do contexto do mapa pode ou n&#227;o se mover , e caso este se mova se vai ou n&#227;o alterar tamb&#233;m a posi&#231;&#227;o de uma caixa .
Caso este seja alterado ent&#227;o vai ser executado a fun&#231;&#227;o  modificaCoordsLeft
</p><p>Esta fun&#231;&#227;o vai receber de input a coordenada do elemento a ser modificado (boneco ou caixa) e vai neste caso subtrair -1 unidade &#224; dimensao x da coordenada dada no input, ou seja de modo a mimicar o comando Left (L) no jogo
</p></div></div><div class="top"><p class="src"><a name="v:modificaCoordsLeft" class="def">modificaCoordsLeft</a> :: (Int, Int) -&gt; [(Int, Int)] -&gt; [(Int, Int)]</p></div><div class="top"><p class="src"><a name="v:validaRight" class="def">validaRight</a> :: (Int, Int) -&gt; [String] -&gt; [(Int, Int)] -&gt; [(Int, Int)]</p><div class="doc"><p>a validaRight vai validar se o boneco dentro do contexto do mapa pode ou nao se mover , e caso este se mova se vai ou nao alterar tambem a posi&#231;&#227;o de uma caixa.
Caso este seja alterado entao vai ser executado  a fun&#231;ao  modificaCoordsRight
</p><p>Esta fun&#231;&#227;o vai receber de input a coordenada do elemento a ser modificado (boneco ou caixa) e vai neste caso adicionar +1 unidade a dimensao x da coordenada dada no input, ou seja de modo a mimicar o comando Right (R) no jogo
</p></div></div><div class="top"><p class="src"><a name="v:modificaCoordsRight" class="def">modificaCoordsRight</a> :: (Int, Int) -&gt; [(Int, Int)] -&gt; [(Int, Int)]</p></div><div class="top"><p class="src"><a name="v:validaPontos" class="def">validaPontos</a> :: [String] -&gt; Bool</p><div class="doc"><p>a validaPontos vai concatetar a Lista de string numa unica string, e ap&#243;s isso conta o n&#250;mero de pontos dentro desta lista, ou seja , dentro do tabuleiro e caso estes sejam 0, ent&#227;o todas as caixas estao na posi&#231;&#227;o final 
dando assim um output booleano True, caso o n&#250;mero seja diferente de zero ent&#227;o o mapa ainda tem caixas que t&#234;m de estar na sua posi&#231;&#227;o final e da assim um output False 
</p></div></div><div class="top"><p class="src"><a name="v:toniCabrita" class="def">toniCabrita</a> :: [(Int, Int)] -&gt; [(Int, Int)] -&gt; Bool</p><div class="doc"><p>Esta fun&#231;&#227;o compara as coordenadas de input e output de modo a verificar se estas s&#227;o iguais ou se foram modificadas ou seja se o boneco e algum elemento do tabuleiro foi modificado
</p></div></div><div class="top"><p class="src"><a name="v:caracterCaixa" class="def">caracterCaixa</a> :: [(Int, Int)] -&gt; [String] -&gt; [String] -&gt; [String]</p><div class="doc"><p>O caracterCaixa identifica, consoante as coordenadas das caixas, o respetivo espa&#231;o vazio correspondente a uma caixa
   Com isto, &#233; selecionado esse espa&#231;o vazio, com a selecaoCaixa, que por sua vez chama a fun&#231;&#227;o transformaCaixa que ir&#225; 
   transformar o espa&#231;o vazio num <code>H</code> que corresponde a uma caixa no mapa do jogo.
</p></div></div><div class="top"><p class="src"><a name="v:selecaoCaixa" class="def">selecaoCaixa</a> :: [String] -&gt; Int -&gt; Int -&gt; [String]</p></div><div class="top"><p class="src"><a name="v:transformaCaixa" class="def">transformaCaixa</a> :: String -&gt; Int -&gt; String</p></div><div class="top"><p class="src"><a name="v:caracterBoneco" class="def">caracterBoneco</a> :: [(Int, Int)] -&gt; [String] -&gt; [String] -&gt; [String]</p><div class="doc"><p>o caracterBoneco recebe de input uma lista da coordenada inicial do boneco e duas vezes o novoMapa , 
uma vez que um ir&#225; servir para localizar a coordenada no mapa e outro para ter as o carateres alterado na respetiva posi&#231;&#227;o inicial do boneco  
</p></div></div><div class="top"><p class="src"><a name="v:selecaoBoneco" class="def">selecaoBoneco</a> :: [String] -&gt; Int -&gt; Int -&gt; [String]</p><div class="doc"><p>a selecaoBoneco seleciona a string do mapa (y da coordenada) onde se encontra a coordenada da inicial do boneco para a qual queremos alterar o carater para <code>o</code>  
</p></div></div><div class="top"><p class="src"><a name="v:transformaBoneco" class="def">transformaBoneco</a> :: String -&gt; Int -&gt; String</p><div class="doc"><p>a transforamaBoneco seleciona dentro da string dada pela selecaoCaixa o carater correspondente a coordenada (x da coordenada) e substitui por <code>o</code>
</p></div></div><div class="top"><p class="src"><a name="v:carateresValidos" class="def">carateresValidos</a> :: Char -&gt; Bool</p><div class="doc"><p>Carateres v&#225;lidos dentro da sec&#231;&#227;o do tabuleiro.
obs : vai ser utilizada para dividir o tabuleiro e as coordenadas em duas partes e para validar o mapa
</p></div></div><div class="top"><p class="src"><a name="v:converteCoords" class="def">converteCoords</a> :: Int -&gt; [String] -&gt; [(Int, Int, Int)]</p><div class="doc"><p>Converte uma lista de Strings (stringCoords) em triplos (atrav&#233;s do processaPosicoes) .
 Em primeiro e segundo s&#227;o as coordenadas e o terceiro &#233; o contador, ou seja, valor dado na contagem dos erros
</p></div></div><div class="top"><p class="src"><a name="v:analiseCoords" class="def">analiseCoords</a> :: String -&gt; Bool</p><div class="doc"><p>Testa se as coordenadas s&#227;o constitu&#237;das por um par de n&#250;meros 
</p></div></div><div class="top"><p class="src"><a name="v:algarismos-39-" class="def">algarismos'</a> :: String -&gt; Bool</p><div class="doc"><p>Primeiro d&#237;gito : vai retirar enquanto &#233; digito   
     Segundo digito :
                     1. Vai deixar retirar enquanto e digito de forma a retirar o primeiro digito ,
                     2. Ap&#243;s isso vai retirar o espa&#231;o vazio 
                     3. Retirar enquanto &#233; d&#237;gito
</p></div></div><div class="top"><p class="src"><a name="v:primeiros" class="def">primeiros</a> :: [(Int, Int, Int)] -&gt; [(Int, Int)]</p><div class="doc"><p>A fun&#231;&#227;o primeiros tem como input a fun&#231;&#227;o converteCoords e retira o contador, deixando apenas pares correspondentes a coordenadas do mapa
</p></div></div><div class="top"><p class="src"><a name="v:localizaCoords" class="def">localizaCoords</a> :: (Int, Int) -&gt; [String] -&gt; Char</p><div class="doc"><p>localizaCoords : recebe num par de coordenadas e localiza o caracter respetivo no mapa, confirmando que estas se encontram dentro do mapa (tabuleiro)
</p></div></div><div class="top"><p class="src"><a name="v:-33--33--33-" class="def">(!!!)</a> :: Eq a =&gt; [a] -&gt; Int -&gt; a</p></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.13.2</p></div></body></html>